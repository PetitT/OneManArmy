using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Invulnerability : IUpdatable
{
    float invulnerabilityTime => DataManager.runtimeData.invincibilityTime;
    float remainingInvulnerabilityTime;
    bool isImmortal = false;

    public void ToggleImmortality()
    {
        isImmortal = !isImmortal;
    }

    public void BeginInvulnerabilityTime()
    {
        remainingInvulnerabilityTime = invulnerabilityTime;
    }

    public void OnUpdate()
    {
        remainingInvulnerabilityTime -= Time.deltaTime;
    }

    public bool IsDamageable()
    {
        if (isImmortal) return false;
        return remainingInvulnerabilityTime < 0;
    }
}
